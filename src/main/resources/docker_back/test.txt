현재 redis-sentinel 컨테이너에서 발생하는 "Can't resolve instance hostname 'master'" 오류는 Sentinel이 master라는 호스트명을 해석할 수 없다는 의미입니다.
이는 master 컨테이너가 redis-sentinel 컨테이너와 동일한 네트워크에 있어도 호스트명이 제대로 설정되지 않았을 때 발생할 수 있습니다.

이를 해결하려면 다음을 확인하고 수정해 보세요.

1. Sentinel 설정 파일 수정 (확인)
먼저, Sentinel 설정 파일이 제대로 수정되었는지 확인합니다. sentinel.conf에서 master 호스트명을 172.18.0.3과 같이 IP 주소로 직접 변경해보세요.

bash
코드 복사
sentinel monitor mymaster master 172.18.0.3 6379 2
master라는 이름을 172.18.0.3으로 바꾸면 Redis Sentinel이 IP 주소를 통해 마스터를 찾을 수 있습니다.

2. 네트워크 연결 확인
모든 컨테이너가 동일한 Docker 네트워크에서 실행되고 있는지 확인하십시오. 특히 redis-sentinel이 master 컨테이너와 같은 네트워크에 있어야 합니다.
이를 확인하려면 docker network inspect 명령어를 사용하여 네트워크에 연결된 컨테이너들을 점검합니다.

bash
코드 복사
docker network inspect redis-net
이 명령어를 통해 master, slave-a, slave-b, redis-sentinel이 모두 redis-net 네트워크에 연결되어 있는지 확인하세요.

3. Redis Sentinel 컨테이너 재시작
설정을 수정한 후, Sentinel 컨테이너를 재시작해야 합니다:

bash
코드 복사
docker-compose restart redis-sentinel
또는

bash
코드 복사
docker restart redis-sentinel
이후 Sentinel의 로그를 다시 확인하여 호스트 문제 해결 여부를 점검합니다:

bash
코드 복사
docker logs redis-sentinel
4. DNS 문제 해결 (추가 확인)
master라는 이름을 사용하려면, Docker 내부에서 해당 이름을 DNS로 해석할 수 있어야 합니다. Docker가 제공하는 DNS 기능은 일반적으로 컨테이너 이름을 호스트명으로 해석할 수 있습니다.
만약 이 문제가 계속된다면, docker-compose의 네트워크 옵션을 재검토하거나 컨테이너 이름을 명시적으로 사용하여 연결해 볼 수 있습니